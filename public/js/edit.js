!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=1)}({"01ng":function(e,t){var a=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),n=document.querySelector("#editArticleContent"),o=new SimpleMDE({element:n,shortcuts:{togglePreview:null,toggleSideBySide:null},toolbar:[{name:"undo",action:SimpleMDE.undo,className:"fa fa-undo no-disable",title:"Undo"},{name:"redo",action:SimpleMDE.redo,className:"fa fa-repeat no-disable",title:"Redo"},"|",{name:"bold",action:SimpleMDE.toggleBold,className:"fa fa-bold",title:"Bold"},{name:"italic",action:SimpleMDE.toggleItalic,className:"fa fa-italic",title:"Italic"},{name:"strikethrough",action:SimpleMDE.toggleStrikethrough,className:"fa fa-strikethrough",title:"Strikethrough"},"|",{name:"heading-1",action:SimpleMDE.toggleHeading1,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},{name:"heading-2",action:SimpleMDE.toggleHeading2,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},{name:"heading-3",action:SimpleMDE.toggleHeading3,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},{name:"heading-smaller",action:SimpleMDE.toggleHeadingSmaller,className:"fa fa-header",title:"Smaller Heading"},{name:"heading-bigger",action:SimpleMDE.toggleHeadingBigger,className:"fa fa-lg fa-header",title:"Bigger Heading"},"|",{name:"code",action:SimpleMDE.toggleCodeBlock,className:"fa fa-code",title:"Code"},{name:"quote",action:SimpleMDE.toggleBlockquote,className:"fa fa-quote-left",title:"Quote"},{name:"unordered-list",action:SimpleMDE.toggleUnorderedList,className:"fa fa-list-ul",title:"Generic List"},{name:"ordered-list",action:SimpleMDE.toggleOrderedList,className:"fa fa-list-ol",title:"Numbered List"},{name:"link",action:SimpleMDE.drawLink,className:"fa fa-link",title:"Create Link"},{name:"image",action:function(){r.click()},className:"fa fa-picture-o",title:"Insert Image"},{name:"table",action:SimpleMDE.drawTable,className:"fa fa-table",title:"Insert Table"},{name:"horizontal-rule",action:SimpleMDE.drawHorizontalRule,className:"fa fa-minus",title:"Insert Horizontal Line"},{name:"clean-block",action:SimpleMDE.cleanBlock,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"|",{name:"fullscreen",action:SimpleMDE.toggleFullScreen,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen"},{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide"}],promptURLs:!0});function i(e){var t=new FormData;t.append("markdown",e),fetch("/preview",{method:"POST",headers:new Headers({"X-CSRF-TOKEN":a}),body:t}).then((function(e){return e.text()})).then((function(e){document.querySelector(".preview").innerHTML=e})).then((function(){var e=document.createElement("script");e.src="/js/prism.js",document.body.appendChild(e)}))}o.codemirror.on("change",(function(){i(o.value())})),i(o.value()),window.addEventListener("drag",(function(e){e.preventDefault()})),o.codemirror.on("drop",(function(e,t){t.preventDefault();for(var a=t.dataTransfer.items,n=0;n<a.length;n++)l(a[n].getAsFile())}));var r=document.querySelector("#fileDialog");function l(e){var t=new FormData;t.append("image",e),document.querySelector(".uploading.notification").classList.remove("d-none"),fetch("/images",{method:"POST",headers:new Headers({"X-CSRF-TOKEN":a}),body:t}).then((function(e){return document.querySelector(".uploading.notification").classList.add("d-none"),e.json()})).then((function(e){var t,a,n,r,l="!["+e.originalName+"](/images/"+e.id+")\n\n";t=l,a=o.codemirror,n=a.getCursor("start"),r=a.getCursor("end"),a.replaceRange(t,{line:r.line,ch:r.ch}),a.setSelection(n,r),a.focus(),i(o.value())}))}r.addEventListener("change",(function(){for(var e=this.files,t=0;t<e.length;t++)l(e[t])}));var c=new BSN.Modal("#article-auth-confirm-modal",{backdrop:"static",keyboard:!1});function d(){var e=document.querySelector("#article-auth");e.value=e.dataset.previousOption,delete e.dataset.previousOption}document.querySelector("#article-auth").addEventListener("change",(function(e){var t=document.querySelector("input[name='article[id]']").value,a=e.target.value,n=document.querySelector("#article-auth-confirm-modal button.yes");n.dataset.articleId=t,n.dataset.roleId=a;var o=e.target[e.target.selectedIndex].text+' can update the article "'+document.querySelector(".edit h3").innerText+'" ?';document.querySelector("#article-auth-confirm-modal .modal-body > p").innerText=o,c.show()})),document.querySelector("#article-auth").addEventListener("focus",(function(e){this.dataset.previousOption=e.target.value})),document.querySelector("button.cancel").addEventListener("click",(function(){d()})),document.querySelector("button.no").addEventListener("click",(function(){d()})),document.querySelector("button.yes").addEventListener("click",(function(){var e=this.dataset.articleId,t=this.dataset.roleId;c.hide(),function(e,t){fetch("/articles/auth/"+e,{method:"PATCH",headers:new Headers({"X-CSRF-TOKEN":a,"Content-Type":"application/json; charset=utf-8"}),body:JSON.stringify({roleId:t})}).then((function(e){return e.json()})).then((function(e){var t=document.querySelector(".alert");t.innerText=e.message,t.classList.add("alert-success"),t.classList.remove("d-none")}))}(e,t)}))},1:function(e,t,a){e.exports=a("01ng")}});